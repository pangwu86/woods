### 搜索条件解析

功能就是将搜索字符串转换为中间格式,方便生成查询条件

### 使用场景描述

比如某个类sns的页面上提供一个搜索框,要查询zozoh这个用户,五月十号到七月二十号这段时间创建的信息

可以输入查询字符串 "@zozoh C[05.01,)"

分析下这个字符串,可以发现是通过空格作为多个条件的分隔符,每个条件是一个有意义的语句(或一个闭合空间)

"@zozoh" 即用户名等于zozoh

"C[05-10,07-20)" C代表"create time",[05-10,07-20)代表这个时间段(这里是包含五月十号,但不包含七月二十号,为什么请看符号"[]"与"()"的区别)


### 查询语句转换为中间条件

可以看到上面是一个比较有意思的查询语句, 我们可以把这种方式的查询应用在各个查询框中

同样我们也可以对其中的关键字做调整, 比如"@"代表端口号, "#"用来做分隔符等等, 这是是根据业务来定义的

不论上面的语句如何变化,我们都可以根据这个预定的规则,传转为一种通用的中间格式

中间格式的有以下规则:

1. 一个查询条件有两部分组成
	* 关键字
	* 过滤条件
2. 多个查询条件默认是与(或)的关系
	* 空格(其他分隔符)和"&&"代表关系"与"
	* "||" 代表关系或
3. 为避免与或嵌套的问题,永远把前面的条件作为整体,依次进行与或操作
	* "a b" 代表 a 与 b
	* "a b c" 代表 (a 与 b) 与 c
	* "a b || c" 代表 (a 与 b) 或 c
	* "a || b && c" 代表 (a 或 b) 与 c
